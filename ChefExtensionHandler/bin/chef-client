
# Ruby code that runs the original chef-client and updates the azure extension status

require 'azure-chef-extension/chef/azure/client'

extension_root = File.Directory(__FILE__)

chef_client_args = <args for chef-client>

extensionObject = AzureChefClient.new(extension_root, chef_client_args)

result = extensionObject.run

# send result.stdout to stdout
$stdout.puts result.stdout
# send result.stderr to stderr
$stderr.puts result.stderr